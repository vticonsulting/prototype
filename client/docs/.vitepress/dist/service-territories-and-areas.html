<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Service Territories and Areas | Service Regions and Areas</title>
    <meta name="description" content="Just playing around.">
    <link rel="stylesheet" href="/assets/style.a1000684.css">
    <link rel="modulepreload" href="/assets/Home.132920c1.js">
    <link rel="modulepreload" href="/assets/app.efa7101f.js">
    <link rel="modulepreload" href="/assets/service-territories-and-areas.md.6390f5aa.lean.js">
    <link rel="modulepreload" href="/assets/app.efa7101f.js">
    <meta name="twitter:title" content="Service Territories and Areas | Service Regions and Areas">
    <meta property="og:title" content="Service Territories and Areas | Service Regions and Areas">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-54abca32><div class="sidebar-button" data-v-54abca32><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Service Regions and Areas, back to home" data-v-54abca32 data-v-4389d65a><!----> Service Regions and Areas</a><div class="flex-grow" data-v-54abca32></div><div class="nav" data-v-54abca32><!----></div><!--[--><!--]--></header><aside class="sidebar" data-v-08a4a218><!----><!--[--><!--]--><ul class="sidebar-links" data-v-08a4a218><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#regioncontroller">RegionController</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#createmodel-modeltype">CreateModel(modelType)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#getserviceareasforregion-jsonresult">GetServiceAreasForRegion JsonResult</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#index-get-region">Index (GET /Region) &quot;&quot;</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#actions">Actions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#createregion-get-region-createregion">CreateRegion (GET /Region/CreateRegion)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#createregion-model-managerids-post-region-createregion">CreateRegion(model, managerIds) (POST /Region/CreateRegion)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#editregion-id-post-regioneditregion">EditRegion(id?) (POST /RegionEditRegion)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#editregion-model-managerids-post-region-editregion">EditRegion(model, managerIds) (POST /Region/EditRegion)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#createservicearea-get-region-createservicearea">CreateServiceArea (GET /Region/CreateServiceArea)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#createservicearea-model-techids-formcollection-post-region-createservicearea">CreateServiceArea(model, techIds, formCollection) (POST /Region/CreateServiceArea)</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#getavailabletechs-regionid-serviceareaid-post">GetAvailableTechs(regionId, serviceAreaId) (POST)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareacapacity">ServiceAreaCapacity</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareacapacityread-request-serviceareaid-companyid">ServiceAreaCapacityRead(request, serviceAreaId, companyId)</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareacapacitycreate">ServiceAreaCapacityCreate()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareacapacityupdate">ServiceAreaCapacityUpdate</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareacapacitydelete">ServiceAreaCapacityDelete</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#getcompanylist">GetCompanyList</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#hancock-business-serviceareas-ucc">Hancock.Business.ServiceAreas.UCC</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceregionsetupucc">ServiceRegionSetupUCC</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#tables">Tables</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#servicearea">ServiceArea</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareaavailabilities">ServiceAreaAvailabilities</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareacapacity-1">ServiceAreaCapacity</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareapostalcode">ServiceAreaPostalCode</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceareatechnician">ServiceAreaTechnician</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceregion">ServiceRegion</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#serviceregionmanager">ServiceRegionManager</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#fieldtechavailability">FieldTechAvailability</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-37aec12b><div class="container" data-v-37aec12b><!--[--><!--]--><div style="position:relative;" class="content" data-v-37aec12b><div><h2 id="regioncontroller"><a class="header-anchor" href="#regioncontroller" aria-hidden="true">#</a> RegionController</h2><ul><li>Permissions ViewRegionsMenu</li></ul><h3 id="createmodel-modeltype"><a class="header-anchor" href="#createmodel-modeltype" aria-hidden="true">#</a> <code>CreateModel(modelType)</code></h3><ul><li>return <code>GetServiceRegionSetupUCC()</code>, if ServiceRegionSetupUCC</li><li>return <code>GetReadOnlyRoot()</code>, if EditServiceRegionUCC</li><li>return <code>GetServiceAreaSetupUCC()</code>, if ServiceAreaSetupUCC</li><li>else return <code>Activator.CreateInstance(modelType)</code></li></ul><h3 id="getserviceareasforregion-jsonresult"><a class="header-anchor" href="#getserviceareasforregion-jsonresult" aria-hidden="true">#</a> GetServiceAreasForRegion JsonResult</h3><h2 id="index-get-region"><a class="header-anchor" href="#index-get-region" aria-hidden="true">#</a> Index (GET /Region) &quot;&quot;</h2><h3 id="actions"><a class="header-anchor" href="#actions" aria-hidden="true">#</a> Actions</h3><ul><li>New Service Territory <ul><li>Validations <ul><li>Name is required</li></ul></li></ul></li></ul><h3 id="createregion-get-region-createregion"><a class="header-anchor" href="#createregion-get-region-createregion" aria-hidden="true">#</a> CreateRegion (GET /Region/CreateRegion)</h3><p>Redirects to Index</p><ul><li>Create/Edit</li></ul><h3 id="createregion-model-managerids-post-region-createregion"><a class="header-anchor" href="#createregion-model-managerids-post-region-createregion" aria-hidden="true">#</a> CreateRegion(model, managerIds) (POST /Region/CreateRegion)</h3><ul><li>Validates</li><li>Converts managerIds to List</li><li>Remove <code>RegionManagerId</code>, if List empty</li><li><code>GetServiceRegionMangerList(model.ServiceRegionId)</code></li><li>Loop through managerIds, if <code>ServiceRegionManagerList</code> contains</li></ul><h3 id="editregion-id-post-regioneditregion"><a class="header-anchor" href="#editregion-id-post-regioneditregion" aria-hidden="true">#</a> EditRegion(id?) (POST /RegionEditRegion)</h3><ul><li>if <code>id</code> return View for region <code>GetReadOnlyRoot(id.Value)</code></li><li>otherwise redirect to <code>Index</code></li></ul><h3 id="editregion-model-managerids-post-region-editregion"><a class="header-anchor" href="#editregion-model-managerids-post-region-editregion" aria-hidden="true">#</a> EditRegion(model, managerIds) (POST /Region/EditRegion)</h3><ul><li>if <code>ServiceRegion</code> is deleted or inActive <ul><li><code>ROServiceAreaList.GetROServiceAreaList(model.ServiceRegion.Id)</code></li><li><code>ProjectsList.GetNameValueList(modelServiceAreas.Select(sa =&gt; sa.Id).ToList())</code></li></ul></li></ul><h3 id="createservicearea-get-region-createservicearea"><a class="header-anchor" href="#createservicearea-get-region-createservicearea" aria-hidden="true">#</a> CreateServiceArea (GET /Region/CreateServiceArea)</h3><ul><li>Permissions (AddServiceArea)</li></ul><h3 id="createservicearea-model-techids-formcollection-post-region-createservicearea"><a class="header-anchor" href="#createservicearea-model-techids-formcollection-post-region-createservicearea" aria-hidden="true">#</a> CreateServiceArea(model, techIds, formCollection) (POST /Region/CreateServiceArea)</h3><ul><li>Permissions (AddServiceArea)</li></ul><h2 id="getavailabletechs-regionid-serviceareaid-post"><a class="header-anchor" href="#getavailabletechs-regionid-serviceareaid-post" aria-hidden="true">#</a> GetAvailableTechs(regionId, serviceAreaId) (POST)</h2><ul><li></li></ul><h2 id="serviceareacapacity"><a class="header-anchor" href="#serviceareacapacity" aria-hidden="true">#</a> ServiceAreaCapacity</h2><h2 id="serviceareacapacityread-request-serviceareaid-companyid"><a class="header-anchor" href="#serviceareacapacityread-request-serviceareaid-companyid" aria-hidden="true">#</a> ServiceAreaCapacityRead(request, serviceAreaId, companyId)</h2><ul><li>gridModels</li></ul><h2 id="serviceareacapacitycreate"><a class="header-anchor" href="#serviceareacapacitycreate" aria-hidden="true">#</a> ServiceAreaCapacityCreate()</h2><h2 id="serviceareacapacityupdate"><a class="header-anchor" href="#serviceareacapacityupdate" aria-hidden="true">#</a> ServiceAreaCapacityUpdate</h2><h2 id="serviceareacapacitydelete"><a class="header-anchor" href="#serviceareacapacitydelete" aria-hidden="true">#</a> ServiceAreaCapacityDelete</h2><h2 id="getcompanylist"><a class="header-anchor" href="#getcompanylist" aria-hidden="true">#</a> GetCompanyList</h2><p>GetRegionManagerAndLead GetAvailableRegionManagers</p><p>ServiceAreaPostalCodeRead ServiceAreaPostCodeCreate ServiceAreaPostalCodeUpdate ServiceAreaPostalCodeDestroy</p><p>AreStartTimeEndTimesValid</p><h2 id="hancock-business-serviceareas-ucc"><a class="header-anchor" href="#hancock-business-serviceareas-ucc" aria-hidden="true">#</a> Hancock.Business.ServiceAreas.UCC</h2><h3 id="serviceregionsetupucc"><a class="header-anchor" href="#serviceregionsetupucc" aria-hidden="true">#</a> ServiceRegionSetupUCC</h3><ul><li>RegionLeads</li><li>ServiceDirectors</li><li>ROServiceRegionList (&quot;Service Territories&quot;)</li><li>ServiceRegion</li></ul><p>GetServiceRegionSetupUCC() GetActiveServiceRegionSetupUCC(active) - ROServiceRegionList - ServiceRegion - RegionLeads - ServiceDirectors</p><h2 id="tables"><a class="header-anchor" href="#tables" aria-hidden="true">#</a> Tables</h2><h3 id="servicearea"><a class="header-anchor" href="#servicearea" aria-hidden="true">#</a> <code>ServiceArea</code></h3><table><thead><tr><th>Column</th><th>FK</th></tr></thead><tbody><tr><td>Id</td><td></td></tr><tr><td>ServiceRegionId</td><td>(FK_ServiceArea_ServiceRegion_ServiceRegionId)</td></tr><tr><td>StateId</td><td>(FK_ServiceArea_State_StateId)</td></tr><tr><td>TimeZoneId</td><td>(FK_ServiceArea_Timezone_TimeZoneId)</td></tr><tr><td>AddressLatitude</td><td></td></tr><tr><td>AddressLongitude</td><td></td></tr><tr><td>City</td><td></td></tr><tr><td>CreatedBy (FK_ServiceArea_User_CreatedBy)</td><td></td></tr><tr><td>CreatedOn</td><td></td></tr><tr><td>IsActive</td><td></td></tr><tr><td>IsCatastropheArea</td><td></td></tr><tr><td>IsDeleted</td><td></td></tr><tr><td>Latitude</td><td></td></tr><tr><td>Longitude</td><td></td></tr><tr><td>Name</td><td></td></tr><tr><td>PostalCode</td><td></td></tr><tr><td>Radius</td><td></td></tr><tr><td>StreetAddress</td><td></td></tr></tbody></table><h3 id="serviceareaavailabilities"><a class="header-anchor" href="#serviceareaavailabilities" aria-hidden="true">#</a> <code>ServiceAreaAvailabilities</code></h3><table><thead><tr><th>Column</th><th>FK</th></tr></thead><tbody><tr><td>Id</td><td></td></tr><tr><td>WindowStart</td><td></td></tr><tr><td>WindowEnd</td><td></td></tr></tbody></table><h3 id="serviceareacapacity-1"><a class="header-anchor" href="#serviceareacapacity-1" aria-hidden="true">#</a> <code>ServiceAreaCapacity</code></h3><table><thead><tr><th>Column</th><th>FK</th></tr></thead><tbody><tr><td>Id</td><td></td></tr><tr><td>ServiceAreaId</td><td>(FK_ServiceAreaCapacity_ServiceArea_ServiceAreaId)</td></tr><tr><td>CompanyId</td><td>(FK_ServiceAreaCapacity_Company_CompanyId)</td></tr><tr><td>CreatedBy</td><td>(FK_ServiceAreaCapacity_User_CreatedBy)</td></tr><tr><td>CreatedOn</td><td></td></tr><tr><td>Capacity</td><td></td></tr><tr><td>EndTime</td><td></td></tr><tr><td>StartTime</td><td></td></tr></tbody></table><h3 id="serviceareapostalcode"><a class="header-anchor" href="#serviceareapostalcode" aria-hidden="true">#</a> <code>ServiceAreaPostalCode</code></h3><table><thead><tr><th>Column</th><th>FK</th></tr></thead><tbody><tr><td>Id</td><td></td></tr><tr><td>ServiceAreaId</td><td>(FK_ServiceAreaPostalCode_ServiceArea_ServiceAreaId)</td></tr><tr><td>PostalCode</td><td></td></tr></tbody></table><h3 id="serviceareatechnician"><a class="header-anchor" href="#serviceareatechnician" aria-hidden="true">#</a> <code>ServiceAreaTechnician</code></h3><table><thead><tr><th>Column</th><th>FK</th></tr></thead><tbody><tr><td>ServiceAreaId</td><td>(FK_ServiceAreaTechnician_ServiceArea_ServiceAreaId)</td></tr><tr><td>UserId</td><td>(FK_ServiceAreaTechnician_User_UserId)</td></tr><tr><td>CreatedBy</td><td>(FK_ServiceAreaTechnician_User_CreatedBy)</td></tr><tr><td>CreatedOn</td><td></td></tr></tbody></table><h3 id="serviceregion"><a class="header-anchor" href="#serviceregion" aria-hidden="true">#</a> <code>ServiceRegion</code></h3><table><thead><tr><th>Column</th><th>FK</th></tr></thead><tbody><tr><td>Id</td><td></td></tr><tr><td>CreatedBy</td><td>(FK_ServiceRegion_User_CreatedBy)</td></tr><tr><td>RegionLead</td><td></td></tr><tr><td>Name</td><td></td></tr><tr><td>CreatedOn</td><td></td></tr><tr><td>IsActive</td><td></td></tr><tr><td>IsCatastropheRegion</td><td></td></tr><tr><td>IsDeleted</td><td></td></tr></tbody></table><h3 id="serviceregionmanager"><a class="header-anchor" href="#serviceregionmanager" aria-hidden="true">#</a> <code>ServiceRegionManager</code></h3><table><thead><tr><th>Column</th><th>FK</th></tr></thead><tbody><tr><td>ServiceRegionId</td><td>(FK_ServiceRegionManager_ServiceRegion_ServiceRegionId)</td></tr><tr><td>UserId</td><td>(FK_ServiceRegionManager_User_UserId)</td></tr><tr><td>CreatedBy</td><td>(FK_ServiceRegionManager_User_CreatedBy)</td></tr><tr><td>CreatedOn</td><td></td></tr></tbody></table><h3 id="fieldtechavailability"><a class="header-anchor" href="#fieldtechavailability" aria-hidden="true">#</a> <code>FieldTechAvailability</code></h3><table><thead><tr><th>Column</th><th>FK</th></tr></thead><tbody><tr><td>Id</td><td></td></tr><tr><td>ServiceAreaId</td><td>(FK_FieldTechAvailability_ServiceArea_ServiceAreaId)</td></tr><tr><td>FieldTechUserId</td><td>(FK_FieldTechAvailability_User_FieldTechUserId)</td></tr><tr><td>CreatedBy</td><td>(FK_FieldTechAvailability_User_CreatedBy)</td></tr><tr><td>CreatedOn</td><td></td></tr><tr><td>EndDate</td><td></td></tr><tr><td>IsAvailable</td><td></td></tr><tr><td>StartDate</td><td></td></tr></tbody></table></div></div><footer class="page-footer" data-v-37aec12b data-v-43896ec4><div class="edit" data-v-43896ec4><div class="edit-link" data-v-43896ec4 data-v-3e887afc><!----></div></div><div class="updated" data-v-43896ec4><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"inbox.md\":\"0cdeae1b\",\"notes.md\":\"dd47acf0\",\"billing.md\":\"ff51e0c8\",\"claims.md\":\"45614a2a\",\"core-10.md\":\"7dcbc8ad\",\"customers.md\":\"758aa5d2\",\"index-bak.md\":\"ad0836c0\",\"index.md\":\"bb9fec20\",\"projects.md\":\"73bf106a\",\"regions.md\":\"adaf7c5d\",\"service-territories-and-areas.md\":\"6390f5aa\",\"service-types.md\":\"22afa52c\",\"territory.md\":\"ee95c50d\",\"users-roles-permission.md\":\"3a3aec5f\",\"xactimate.md\":\"3df72539\"}")</script>
    <script type="module" async src="/assets/app.efa7101f.js"></script>
  </body>
</html>